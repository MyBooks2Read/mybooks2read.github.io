<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p121" style="overflow: hidden; position: relative; background-color: white; width: 811px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_121{left:710px;bottom:960px;letter-spacing:-0.13px;}
#t2_121{left:341px;bottom:961px;letter-spacing:-0.11px;}
#t3_121{left:373px;bottom:961px;letter-spacing:-0.11px;}
#t4_121{left:181px;bottom:917px;letter-spacing:0.13px;word-spacing:2.13px;}
#t5_121{left:156px;bottom:898px;letter-spacing:0.12px;word-spacing:0.28px;}
#t6_121{left:156px;bottom:878px;letter-spacing:0.11px;word-spacing:0.02px;}
#t7_121{left:156px;bottom:851px;letter-spacing:0.13px;word-spacing:0.01px;}
#t8_121{left:156px;bottom:835px;letter-spacing:0.13px;word-spacing:0.01px;}
#t9_121{left:156px;bottom:801px;letter-spacing:0.13px;word-spacing:-0.04px;}
#ta_121{left:156px;bottom:774px;letter-spacing:0.13px;word-spacing:0.01px;}
#tb_121{left:156px;bottom:759px;letter-spacing:0.13px;word-spacing:0.01px;}
#tc_121{left:156px;bottom:725px;letter-spacing:0.12px;word-spacing:0.51px;}
#td_121{left:156px;bottom:705px;letter-spacing:0.12px;word-spacing:0.46px;}
#te_121{left:156px;bottom:685px;letter-spacing:0.11px;}
#tf_121{left:156px;bottom:623px;letter-spacing:0.13px;word-spacing:0.01px;}
#tg_121{left:156px;bottom:593px;letter-spacing:0.13px;}
#th_121{left:156px;bottom:577px;letter-spacing:0.13px;word-spacing:-0.01px;}
#ti_121{left:156px;bottom:562px;letter-spacing:0.13px;}
#tj_121{left:156px;bottom:534px;letter-spacing:0.13px;word-spacing:0.01px;}
#tk_121{left:185px;bottom:519px;letter-spacing:0.14px;word-spacing:-0.01px;}
#tl_121{left:185px;bottom:504px;letter-spacing:0.14px;word-spacing:-0.01px;}
#tm_121{left:185px;bottom:489px;letter-spacing:0.14px;word-spacing:-0.01px;}
#tn_121{left:185px;bottom:473px;letter-spacing:0.14px;word-spacing:-0.01px;}
#to_121{left:156px;bottom:458px;letter-spacing:0.13px;}
#tp_121{left:156px;bottom:431px;letter-spacing:0.13px;}
#tq_121{left:156px;bottom:397px;letter-spacing:0.11px;word-spacing:0.02px;}
#tr_121{left:156px;bottom:369px;letter-spacing:0.13px;word-spacing:0.01px;}
#ts_121{left:156px;bottom:354px;letter-spacing:0.13px;word-spacing:0.01px;}
#tt_121{left:156px;bottom:339px;letter-spacing:0.14px;word-spacing:-0.02px;}
#tu_121{left:156px;bottom:324px;letter-spacing:0.13px;word-spacing:0.01px;}
#tv_121{left:156px;bottom:290px;letter-spacing:0.12px;word-spacing:-0.39px;}
#tw_121{left:156px;bottom:270px;letter-spacing:0.12px;word-spacing:-0.15px;}
#tx_121{left:156px;bottom:250px;letter-spacing:0.12px;word-spacing:0.33px;}
#ty_121{left:156px;bottom:230px;letter-spacing:0.13px;word-spacing:1.9px;}
#tz_121{left:156px;bottom:210px;letter-spacing:0.12px;word-spacing:1.42px;}
#t10_121{left:156px;bottom:190px;letter-spacing:0.12px;word-spacing:-0.23px;}
#t11_121{left:156px;bottom:170px;letter-spacing:0.11px;word-spacing:-0.02px;}
#t12_121{left:179px;bottom:151px;letter-spacing:0.26px;word-spacing:0.49px;}
#t13_121{left:538px;bottom:151px;letter-spacing:0.26px;word-spacing:0.46px;}
#t14_121{left:690px;bottom:151px;letter-spacing:0.27px;word-spacing:0.55px;}
#t15_121{left:156px;bottom:131px;letter-spacing:0.28px;word-spacing:0.08px;}
#t16_121{left:156px;bottom:111px;letter-spacing:0.28px;word-spacing:1.1px;}
#t17_121{left:156px;bottom:91px;letter-spacing:0.28px;}
#t18_121{left:174px;bottom:651px;letter-spacing:-0.12px;word-spacing:0.02px;}
#t19_121{left:254px;bottom:651px;letter-spacing:-0.12px;word-spacing:0.01px;}
#t1a_121{left:572px;bottom:627px;letter-spacing:-0.09px;word-spacing:0.06px;}
#t1b_121{left:572px;bottom:612px;letter-spacing:-0.09px;word-spacing:-0.04px;}
#t1c_121{left:572px;bottom:598px;letter-spacing:-0.12px;}
#t1d_121{left:600px;bottom:570px;letter-spacing:-0.1px;word-spacing:-0.04px;}
#t1e_121{left:600px;bottom:556px;letter-spacing:-0.12px;word-spacing:0.07px;}
#t1f_121{left:580px;bottom:530px;letter-spacing:-0.1px;word-spacing:-0.67px;}
#t1g_121{left:580px;bottom:516px;letter-spacing:-0.12px;}
#t1h_121{left:453px;bottom:488px;letter-spacing:-0.1px;word-spacing:0.04px;}
#t1i_121{left:453px;bottom:473px;letter-spacing:-0.15px;}
#t1j_121{left:465px;bottom:472px;}
#t1k_121{left:472px;bottom:473px;letter-spacing:-0.21px;word-spacing:0.14px;}
#t1l_121{left:493px;bottom:472px;letter-spacing:0.21px;}
#t1m_121{left:508px;bottom:473px;}
#t1n_121{left:514px;bottom:472px;}
#t1o_121{left:520px;bottom:473px;letter-spacing:-0.14px;word-spacing:-0.03px;}
#t1p_121{left:541px;bottom:472px;letter-spacing:0.12px;}
#t1q_121{left:556px;bottom:473px;}
#t1r_121{left:562px;bottom:472px;}
#t1s_121{left:564px;bottom:473px;}
#t1t_121{left:453px;bottom:459px;letter-spacing:-0.1px;word-spacing:-0.03px;}
#t1u_121{left:453px;bottom:444px;letter-spacing:-0.11px;word-spacing:0.07px;}
#t1v_121{left:495px;bottom:444px;}
#t1w_121{left:502px;bottom:444px;letter-spacing:-0.12px;word-spacing:0.1px;}
#t1x_121{left:515px;bottom:444px;}
#t1y_121{left:523px;bottom:444px;letter-spacing:-0.1px;}

.s1_121{font-size:14px;font-family:NewBaskerville-Bold_ay9;color:#000;}
.s2_121{font-size:14px;font-family:NewBaskerville-BoldItalic_aya;color:#656565;}
.s3_121{font-size:15px;font-family:NewBaskerville-Roman_ay8;color:#252525;}
.s4_121{font-size:12px;font-family:Courier_ahu;color:#000;}
.s5_121{font-size:12px;font-family:Courier_ahu;color:#252525;}
.s6_121{font-size:15px;font-family:NewBaskerville-Italic_avr;color:#252525;}
.s7_121{font-size:14px;font-family:FranklinGothic-Demi_ayb;color:#FFF;}
.s8_121{font-size:14px;font-family:Humanist521BT-BoldCondensed_aid;color:#656565;}
.s9_121{font-size:10px;font-family:Humanist521BT-BoldCondensed_aid;color:#656565;}
.sa_121{font-size:10px;font-family:Helvetica-Bold_aiu;color:#656565;}
.sb_121{font-size:14px;font-family:Helvetica-Bold_aiu;color:#656565;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts121" type="text/css" >

@font-face {
	font-family: Courier_ahu;
	src: url("fonts/Courier_ahu.woff") format("woff");
}

@font-face {
	font-family: FranklinGothic-Demi_ayb;
	src: url("fonts/FranklinGothic-Demi_ayb.woff") format("woff");
}

@font-face {
	font-family: Helvetica-Bold_aiu;
	src: url("fonts/Helvetica-Bold_aiu.woff") format("woff");
}

@font-face {
	font-family: Humanist521BT-BoldCondensed_aid;
	src: url("fonts/Humanist521BT-BoldCondensed_aid.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-BoldItalic_aya;
	src: url("fonts/NewBaskerville-BoldItalic_aya.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Bold_ay9;
	src: url("fonts/NewBaskerville-Bold_ay9.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Italic_avr;
	src: url("fonts/NewBaskerville-Italic_avr.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Roman_ay8;
	src: url("fonts/NewBaskerville-Roman_ay8.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg121Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg121" style="-webkit-user-select: none;"><object width="811" height="1017" data="121/121.svg" type="image/svg+xml" id="pdf121" style="width:811px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_121" class="t s1_121">97 </span><span id="t2_121" class="t s2_121">4.2 </span><span id="t3_121" class="t s2_121">Generalizations </span>
<span id="t4_121" class="t s3_121">For this problem, we need SymPy. Let’s start by putting all we know about the </span>
<span id="t5_121" class="t s3_121">transformation in the form of equations. The first point being transformed one coor- </span>
<span id="t6_121" class="t s3_121">dinate at a time looks like this: </span>
<span id="t7_121" class="t s4_121">[a11 * x1 + a12 * y1 - xt1, </span>
<span id="t8_121" class="t s5_121">a21 * x1 + a22 * y1 - yt1] </span>
<span id="t9_121" class="t s3_121">The second point is the same: </span>
<span id="ta_121" class="t s4_121">[a11 * x2 + a12 * y2 - xt2, </span>
<span id="tb_121" class="t s5_121">a21 * x2 + a22 * y2 - yt2] </span>
<span id="tc_121" class="t s3_121">The problem of finding matrix elements for the linear transformation translates into </span>
<span id="td_121" class="t s3_121">the small SymPy program in the following listing (ch_04/linear_transformation.py in </span>
<span id="te_121" class="t s3_121">the book’s source code). </span>
<span id="tf_121" class="t s5_121">from sympy import * </span>
<span id="tg_121" class="t s5_121">a11, a12, a21, a22 = symbols('a11 a12 a21 a22') </span>
<span id="th_121" class="t s5_121">x1, y1, x2, y2 = symbols('x1 y1 x2 y2') </span>
<span id="ti_121" class="t s5_121">xt1, yt1, xt2, yt2 = symbols('xt1 yt1 xt2 yt2') </span>
<span id="tj_121" class="t s5_121">solution = solve([ </span>
<span id="tk_121" class="t s5_121">a11 * x1 + a12 * y1 - xt1, </span>
<span id="tl_121" class="t s5_121">a21 * x1 + a22 * y1 - yt1, </span>
<span id="tm_121" class="t s5_121">a11 * x2 + a12 * y2 - xt2, </span>
<span id="tn_121" class="t s5_121">a21 * x2 + a22 * y2 - yt2 </span>
<span id="to_121" class="t s5_121">], (a11, a12, a21, a22)) </span>
<span id="tp_121" class="t s5_121">print(solution) </span>
<span id="tq_121" class="t s3_121">Here’s the solution: </span>
<span id="tr_121" class="t s4_121">a11: (xt1*y2 - xt2*y1)/(x1*y2 - x2*y1), </span>
<span id="ts_121" class="t s5_121">a12: (x1*xt2 - x2*xt1)/(x1*y2 - x2*y1), </span>
<span id="tt_121" class="t s5_121">a21: (-y1*yt2 + y2*yt1)/(x1*y2 - x2*y1), </span>
<span id="tu_121" class="t s5_121">a22: (x1*yt2 - x2*yt1)/(x1*y2 - x2*y1) </span>
<span id="tv_121" class="t s3_121">The exact solution isn’t important but please note how easily we could establish it sym- </span>
<span id="tw_121" class="t s3_121">bolically for every pair of transformed points by solving a system of linear equations. A </span>
<span id="tx_121" class="t s3_121">matrix of 2D linear transformation consists of four entries, so we have to have exactly </span>
<span id="ty_121" class="t s3_121">four equations for our system—two points and two coordinates each. If there were </span>
<span id="tz_121" class="t s3_121">three points, our system would be overspecified and normally wouldn’t have a solu- </span>
<span id="t10_121" class="t s3_121">tion. If there was only one point, the system would be underspecified; there’d be not a </span>
<span id="t11_121" class="t s3_121">single solution, but an unpragmatic continuum. </span>
<span id="t12_121" class="t s3_121">In this regard, this transformation could be called a </span><span id="t13_121" class="t s6_121">two-point transformation</span><span id="t14_121" class="t s3_121">. You </span>
<span id="t15_121" class="t s3_121">can set the whole transformation by an example of where a pair of points should go </span>
<span id="t16_121" class="t s3_121">in the result. Let’s see how to go from a two-point transformation to a three-point </span>
<span id="t17_121" class="t s3_121">transformation. </span>
<span id="t18_121" class="t s7_121">Listing 4.1 </span><span id="t19_121" class="t s7_121">Computing the matrix for the linear transformation symbolically </span>
<span id="t1a_121" class="t s8_121">Four coefficients </span>
<span id="t1b_121" class="t s8_121">for the linear </span>
<span id="t1c_121" class="t s8_121">transformation </span>
<span id="t1d_121" class="t s8_121">Two points before </span>
<span id="t1e_121" class="t s8_121">the transformation </span>
<span id="t1f_121" class="t s8_121">Two points after the </span>
<span id="t1g_121" class="t s8_121">transformation </span>
<span id="t1h_121" class="t s8_121">This line is the </span>
<span id="t1i_121" class="t s8_121">“x </span>
<span id="t1j_121" class="t s9_121">t </span>
<span id="t1k_121" class="t s8_121">= a </span>
<span id="t1l_121" class="t sa_121">11 </span>
<span id="t1m_121" class="t s8_121">x </span>
<span id="t1n_121" class="t s9_121">i </span>
<span id="t1o_121" class="t s8_121">+ a </span>
<span id="t1p_121" class="t sa_121">12 </span>
<span id="t1q_121" class="t s8_121">y </span>
<span id="t1r_121" class="t s9_121">i </span>
<span id="t1s_121" class="t s8_121">” </span>
<span id="t1t_121" class="t s8_121">formula applied to </span>
<span id="t1u_121" class="t s8_121">point (x</span><span id="t1v_121" class="t sb_121">1</span><span id="t1w_121" class="t s8_121">, y</span><span id="t1x_121" class="t sb_121">1</span><span id="t1y_121" class="t s8_121">). </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
